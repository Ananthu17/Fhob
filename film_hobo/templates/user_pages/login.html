{% extends 'base.html' %}
{% load rest_framework %}



{% block extracss %}
{% endblock %}

{% block content %}

        <h1>Login</h1>
        <form method="post" action="{% url 'hobo_user:user_login' %}">
            {% csrf_token %}
            <p> {{ form.non_field_errors }}</p>
            <p>
                Email {{form.username}}
                {{form.username.errors}}
            </p>
            <p>
                Password {{form.password}}
                {{form.password.errors}}
            </p>
            <button id="login-submit" type="submit" class="btn btn-default">Sign in</button>
        </form>
        <a href="{% url 'hobo_user:forgot-password' %}">Forgot Password</a>



{% endblock %}
<!-- Axios -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script>
    // $("#login-submit").click(function() {
    //     var email = $('#id_username').val();
    //     var password = $('#id_password').val();
    //     origin_url = window.location.origin
    //     post_url = origin_url + '/hobo_user/login/'
    //     axios.post(post_url,  {"email": email.toString(),"password": password.toString()})
    //     .then((response) => {
    //         localStorage["token"]= response.data
    //     });
    // });
    </script>
{% block extrajs %}
{% endblock %}